<div class="container">
  <div class="row" style="margin-bottom: 6px; margin-left:-6px;">
    <button (click)="clickToHome()">home</button>
  </div>

  <div class="row">
    <div class="col-3" *ngFor="let item of orders; let i = index;">
      <div class="row" style="margin-bottom: 6px; margin-left:-9px; margin-right:-9px;">
        <div style="border:1px solid #ccc; margin-bottom: 6px; width: 100%;">
          <div class="col-12 center" style="font-size: 10px; background: #eee; margin-bottom: 6px;">
            {{(i+1)}}
          </div>
          <div class="col-12 center">2</div>
          <div style="border-top:1px dashed #ccc; background-color: #f3fbff; padding: 12px;" class="col-12 center">21
            july
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-2" align="center">
      <plus-minus class="tenderComp" [caption]="'Select units'" [inputVal]="minCount" [stepVal]="1"
        (updateValue)="plusMinusValue($event)"></plus-minus>
    </div>

    <div class="col-md-4">
      <div class="pName"><span [ngStyle]="{'font-weight': 'normal'}">{{data.p_name}}</span> ({{selectedNutType}}) x {{
          subscribedDays }} day(s)</div>

      <div class="price">Rs. {{ totalPrice}} <span *ngIf="diff !=0"
          style="text-decoration: line-through; color:#aaa; font-size: 14px; font-weight: 500;">
          Rs. {{originalPrice}} </span> <span *ngIf="diff !=0"
          style="font-size:12px; color:#00c300; font-style: italic; font-weight: 500;">
          Rs.{{diff}}
          discount has been applied.</span></div>

      <div [ngStyle]="{'margin-top': '12px', 'margin-bottom': '0px'}">
        <mat-form-field [ngStyle]="{'width': '100%'}">
          <mat-select placeholder="Nut type" [value]="1" (selectionChange)="onNutTypeChange($event)">
            <mat-option *ngFor="let item of nutTypes;" [value]="item.viewValue">
              {{item.value}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div [ngStyle]="{'margin-top': '12px', 'margin-bottom': '0px'}">
        <mat-form-field [ngStyle]="{'width': '100%'}">
          <mat-select placeholder="Nut variety" [value]="nutVarieties[0]"
            (selectionChange)="onNutVarietyChange($event)">
            <mat-option *ngFor="let item of nutVarieties;" [value]="item">
              {{item}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div style="margin-top:18px; margin-bottom:18px; padding-right:12px; padding-bottom: 3px;">
        <mat-checkbox class="noselect" color="primary" [(ngModel)]="strawFlag" (change)="onStrawChange()">
          <!-- add bio-degradable straw to package(2Rs/-) -->
          add bio-degradable straw at <b>â‚¹2</b>.
        </mat-checkbox>
      </div>

      <button mat-button class="addToBagBtn" (click)="addToCart()" [disabled]="addToCartBtnDisabled"
        style="margin-bottom:60px;">
        <mat-icon>shopping_cart</mat-icon> Add to bag
      </button>

      <!-- <button mat-button class="addToBagBtn" (click)="subscribeBtn()" style="margin-left:6px;">
            Subscribe</button> -->

      <!-- <div class="row" style="margin-top:18px; margin-bottom:18px; padding-right:12px; padding-bottom: 3px;"> -->
      <mat-checkbox class="noselect" color="primary" [(ngModel)]="subsFlag" (change)="onSubscribeChange()"
        style="margin-left:12px;">
        <!-- add bio-degradable straw to package(2Rs/-) -->
        Subscribe
      </mat-checkbox>
      <!-- </div> -->

      <div *ngIf="subsFlag">
        <div class="daysCont">
          <div [class]="['packs']" (click)="sevenDaysClick()" [class.active]="subscribeActiveFlgs[0]">
            7 days
          </div>
          <div [class]="['packs']" (click)="alternateDaysClick()" [class.active]="subscribeActiveFlgs[1]">
            Alternate days
          </div>
          <div [class]="['packs']" (click)="every3DaysClick()" [class.active]="subscribeActiveFlgs[2]">
            3 days a week
          </div>
        </div>

        <div class="daysCont">
          <div unselectable="on" onselectstart="return false;" (mousedown)="daysClickAction($event)" id='days{{i}}'
            [ngClass]="['days']" *ngFor="let item of weekdays; let i=index;" [class.active]="selectedDays[(i+1)]">
            {{item.slice(0,3)}}
          </div>
        </div>
        <div *ngIf="changeDetecter" style="font-size: 12px; text-decoration: underline; margin: 9px; cursor: pointer;"
          (click)="onResetClick()">Reset</div>

        <button mat-button class="addToBagBtn" (click)="addToSubscriptionBag()" style="margin-bottom:60px;">
          Add to subscription bag</button>
      </div>
    </div>
  </div>
</div>